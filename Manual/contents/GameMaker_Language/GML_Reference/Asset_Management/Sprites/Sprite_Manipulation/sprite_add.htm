<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>sprite_add</title>
  <meta name="generator" content="Adobe RoboHelp 2022" />
  <link rel="stylesheet" href="../../../../../assets/css/default.css" type="text/css" />
  <script src="../../../../../assets/scripts/main_script.js"></script>
  <meta name="rh-authors" content="Mark Alexander" />
  <meta name="topic-comment" content="Page explaining the function sprite_add" />
  <meta name="rh-index-keywords" content="sprite_add" />
  <meta name="search-keywords" content="sprite_add" />
</head>
<body>
  <!--<div class="body-scroll" style="top: 150px;">-->
  <h1>sprite_add</h1>
  <p>Cette fonction vous permet d'ajouter une image en tant que <span class="notranslate">sprite</span>, en la chargeant à partir d'une source externe. Le fichier image à charger doit <b>toujours</b> être au format <span class="inline">*.png</span>, <span class="inline">*.gif</span>, <span class="inline">*.jpg/jpeg</span> ou <span class="inline">*.json</span> (les fichiers<span class="inline">*json</span> sont utilisés pour charger des <a href="../Skeletal_Animation/Skeletal_Animation.htm">sprites d'animation de squelette</a> créés avec <span class="notranslate">Spine</span>). La fonction renvoie le nouvel index <span class="notranslate">sprite</span> qui doit ensuite être utilisé dans tout autre code relatif à <span class="notranslate">sprite</span>. Si vous utilisez cette fonction avec HTML5 ou si vous obtenez une image à partir d'une URL, cette fonction générera également un événement asynchrone <b>Image Loaded</b>. Voir <a href="../../../../../The_Asset_Editors/Object_Properties/Async_Events/Image_Loaded.htm">cette page</a> pour plus d'informations.</p>
  <p>Toutes les images qui doivent être transformées en <span class="notranslate">sprites</span> animées - à l'exception de <span class="inline">*.gif</span> (voir ci-dessous) - doivent avoir un format &quot;bande&quot; (voir l'image ci-dessous) et elles seront divisées en un nombre de sous-images spécifié selon la règle suivante : <b>largeur du sprite = largeur de la bande / sous-images</b>.</p>
  <p><img alt="Example Sprite Strip" class="center" src="../../../../../assets/Images/Scripting_Reference/GML/Reference/Sprites/spr_strip.png" /></p>
  <p>Comme vous pouvez le voir dans l'image ci-dessus, le <span class="notranslate">sprite</span> a été placé sur un fond violet foncé, et cela peut être supprimé en définissant l'argument &quot;removeback&quot; sur <span class="inline">true</span>. Cela fonctionne en vérifiant la couleur du pixel <i>en bas à gauche</i> du <span class="notranslate">sprite</span> et l'utilise ensuite comme couleur à supprimer. Par exemple, dans l'image ci-dessus, si la couleur du pixel inférieur gauche était le vert, toutes les parties vertes de <span class="notranslate">sprite</span> auraient été supprimées et le reste du fond violet ignoré.</p>
  <p>Si vous choisissez l'option &quot;removeback&quot;, vous pouvez également souhaiter que <span data-keyref="GameMaker Name">GameMaker</span> lisse les bords du site <span class="notranslate">sprite</span> en donnant à l'argument &quot;smooth&quot; la valeur <span class="inline">true</span>. Cela permet de créer une bordure semi-transparente autour des bords du site <span class="notranslate">sprite</span> après la suppression de son arrière-plan.</p>
  <p>Enfin, vous pouvez également spécifier l'<i>origine</i> x et y de <span class="notranslate">sprite</span>. Il s'agit du point où <span class="notranslate">sprite</span> est &quot;fixé&quot; sur l'instance qui l'utilise, et il est toujours calculé par rapport au coin supérieur gauche 0,0 d'une sous-image <span class="notranslate">sprite</span>. Ainsi, par exemple, un <span class="notranslate">sprite</span> de 32 x 32 pixels avec ces valeurs définies sur (16,16) aura son origine au centre.</p>
  <p>Si vous ajoutez une image au format <span class="inline">*.gif</span>, il vous suffit de spécifier le nom du fichier et le numéro de l'image (qui doit être 1 pour la première image) et vous pouvez laisser tous les autres arguments à 0, en notant que <b>seule la première image du GIF sera chargée</b>. Pour <span class="inline">*.json</span> <span class="notranslate">sprites</span>, le numéro d'image doit être 1, et les paramètres &quot;removeback&quot; et &quot;smooth&quot; seront ignorés.</p>
  <p>Par défaut, les boîtes englobantes de tous les nouveaux sites <span class="notranslate">sprites</span> sont calculées automatiquement (la boîte englobante exacte dépend de la taille et de la transparence du site <span class="notranslate">sprite</span>), mais vous pouvez personnaliser cette fonction, auquel cas vous devez également utiliser la fonction <a href="sprite_collision_mask.htm"><span class="inline">sprite_collision_mask()</span></a>.</p>
  <p>Il convient de noter que la mémoire utilisée lors de l'ajout d'un <span class="notranslate">sprite</span> de cette manière sera plus importante que vous ne le pensez. En effet, <span data-keyref="GameMaker Name">GameMaker</span> stockera le site <span class="notranslate">sprite</span> en tant que page de texture <i>et</i> il sera également stocké dans la mémoire du GPU, de sorte que la mémoire totale sera plus importante que celle d'un fichier image du même <span class="notranslate">sprite</span>.</p>
  <p class="note"><b>NOTE</b>: Lorsque vous chargez un <span class="notranslate">sprite</span> dans <span data-keyref="GameMaker Name">GameMaker</span>, vous devez vous rappeler de le supprimer (avec <a href="sprite_delete.htm"><span class="inline">sprite_delete()</span></a>) lorsqu'il n'est plus nécessaire, sinon il y a un risque de fuite de mémoire qui ralentira et finira par faire planter votre jeu.</p>
  <p class="note"><b>REMARQUE</b>: sous <b>iOS</b>, si vous chargez un fichier inclus à partir d'un dossier, c'est-à-dire avec un chemin comme &quot;<span style="font-size:1px;"><span class="inline">Backgrounds/background1.png</span></span>&quot;, il n'est pas nécessaire d'inclure le dossier dans le chemin d'accès et il suffit de fournir le nom du fichier. Sur toutes les autres plateformes, vous devez fournir le(s) dossier(s) dans le chemin d'accès au fichier.</p>
  <p class="note"><b>REMARQUE</b>: En <b>HTML5</b>, si vous chargez un site <span class="notranslate">sprite</span> à partir d'un serveur sécurisé, vous devrez peut-être définir le type cross-origin et utiliser un chemin relatif au lieu d'un chemin absolu. Voir <span style="font-size:1px;"><a href="../../../Asynchronous_Functions/HTTP/http_set_request_crossorigin.htm"><span class="inline">http_set_request_crossorigin()</span></a></span> pour plus de détails.</p>
  <p> </p>
  <h4>Syntaxe :</h4>
  <p class="code">sprite_add(fname, imgnumb, removeback, smooth, xorig, yorig);</p>
  <table>
    <tbody>
      <tr>
        <th>Arguments</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
      <tr>
        <td><span class="notranslate">fname</span></td>
        <td><span data-keyref="Type_String">Chaîne de caractères</span></td>
        <td><span class="notranslate">The name (a string file path) of the file to add.</span></td>
      </tr>
      <tr>
        <td><span class="notranslate">imgnum</span></td>
        <td><span data-keyref="Type_Real">Real</span></td>
        <td><span class="notranslate">Use to indicate the number of sub-images (1 for a single image or for a <span class="inline">*.gif</span>).</td>
      </tr>
      <tr>
        <td><span class="notranslate">removeback</span></td>
        <td><span data-keyref="Type_Bool">Booléen</span></td>
        <td><span class="notranslate">Indicates whether to make all pixels with the background colour (left-bottom pixel) transparent.</span></td>
      </tr>
      <tr>
        <td><span class="notranslate">smooth</span></td>
        <td><span data-keyref="Type_Bool">Booléen</span></td>
        <td><span class="notranslate">Indicates whether to smooth the edges if transparent.</span></td>
      </tr>
      <tr>
        <td><span class="notranslate">xorig</span></td>
        <td><span data-keyref="Type_Real">Real</span></td>
        <td><span class="notranslate">Indicate the x position of the origin in the sprite.</span></td>
      </tr>
      <tr>
        <td><span class="notranslate">yorig</span></td>
        <td><span data-keyref="Type_Real">Real</span></td>
        <td><span class="notranslate">Indicate the y position of the origin in the sprite.</span></td>
      </tr>
    </tbody>
  </table>
  <p> </p>
  <h4>Les retours :</h4>
  <p class="code"><span data-keyref="Type_Asset_Sprite">Sprite Asset</span></p>
  <p> </p>
  <h4>Exemple :</h4>
  <p class="code">spr = sprite_add(&quot;player_5.png&quot;, 16, true, true, 0, 0);</p>
  <p>Le code ci-dessus charge un <span class="notranslate">sprite</span> dans le jeu et stocke son index dans la variable &quot;spr&quot;.</p>
  <p> </p>
  <p> </p>
  <p> </p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div style="float:left">Retour : <a href="Sprite_Manipulation.htm">Manipulation des sprites</a></div>
        <div style="float:right">Suivant : <a href="sprite_replace.htm"><span class="notranslate">sprite_replace</span></a></div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">Copyright <span class="notranslate">YoYo Games Ltd.</span> 2022 Tous droits réservés</span></h5>
  </div>
  <!-- KEYWORDS
sprite_add
-->
  <!-- TAGS
sprite_add
-->
</body>
</html>