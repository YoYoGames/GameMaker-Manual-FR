<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>tilemap_set_global_mask</title>
  <meta name="generator" content="Adobe RoboHelp 2022" />
  <link rel="stylesheet" href="../../../../../assets/css/default.css" type="text/css" />
  <script src="../../../../../assets/scripts/main_script.js"></script>
  <meta name="rh-authors" content="Mark Alexander" />
  <meta name="topic-comment" content="Page outlining the function tilemap_set_global_mask" />
  <meta name="rh-index-keywords" content="tilemap_set_global_mask,tile_rotate,tile_mirror,tile_flip,tile_index_mask" />
  <meta name="search-keywords" content="tilemap_set_global_mask,tile_rotate,tile_mirror,tile_flip,tile_index_mask" />
</head>
<body>
  <!--<div class="body-scroll" style="top: 150px;">-->
  <h1>tilemap_set_global_mask</h1>
  <p>Cette fonction peut être utilisée pour définir le <b>masque binaire des tuiles</b> pour toutes les cartes de tuiles du jeu. L'idée est que si vous avez, par exemple, de petits ensembles de tuiles de 16 x 16, vous aurez un total de 256 tuiles différentes dans chaque ensemble de tuiles, ce qui n'utilise que 8 bits de votre index dans le &quot;blob&quot; de données de tuiles (sur les 19 bits de données disponibles). Ces bits peuvent être &quot;masqués&quot; et le reste des données de tuiles peut être utilisé pour stocker des valeurs supplémentaires.</p>
  <p>Une façon simple d'obtenir la valeur initiale de l'index de masque est de prendre le nombre de tuiles dans le jeu de tuiles et de soustraire 1, donc un jeu de tuiles 16x16 a 256 tuiles et une valeur de masque de 255 (ou $ff en hexadécimal), et si le jeu de tuiles a un nombre de tuiles qui <i>n'est pas</i> une puissance de deux, alors arrondissez à la puissance de deux la plus proche pour obtenir le masque, par exemple un jeu de tuiles qui est 20x20 a 400 tuiles, que vous arrondirez à 512, et ainsi vous obtiendrez une valeur d'index de masque de 511 ($1ff en hexadécimal). En dehors du masque d'index, vous voudrez normalement préserver les valeurs d'inversion, de rotation et de miroir qui sont assignées à une tuile aussi, donc pour vous aider il y a quelques <b>constantes</b> qui peuvent être utilisées. Celles-ci peuvent être &quot;or&quot; avec la valeur du masque d'index pour préserver ces bits de données. Les constantes suivantes peuvent être utilisées (voir l'exemple de code ci-dessous pour l'utilisation) :</p>
  <table>
    <tbody>
      <tr>
        <th>Constant</th>
        <th>Description</th>
      </tr>
      <tr>
        <td><span class="notranslate"><span class="inline">tile_rotate</span></td>
        <td>Utilisé pour définir/obtenir le bit de rotation d'un blob de données de tuiles.</td>
      </tr>
      <tr>
        <td><span class="notranslate"><span class="inline">tile_mirror</span></td>
        <td>Utilisé pour définir/obtenir le bit miroir d'un blob de données de tuile.</td>
      </tr>
      <tr>
        <td><span class="notranslate"><span class="inline">tile_flip</span></td>
        <td>Utilisé pour définir/obtenir le bit de retournement d'un blob de données de tuile.</td>
      </tr>
      <tr>
        <td><span class="notranslate"><span class="inline">tile_index_mask</span></td>
        <td>Une constante spéciale qui est utilisée pour &quot;et&quot; avec le blob de données de tuile pour extraire l'index de tuile.</td>
      </tr>
    </tbody>
  </table>
  <p>Le masquage des bits de la carte des tuiles est une fonction avancée qui vous permet d'utiliser les bits du &quot;blob&quot; des données des tuiles pour votre propre usage. Par exemple, l'utilisateur peut réserver un bit pour signifier &quot;solide&quot; dans la structure des données de tuiles et le vérifier pour les collisions rapides. Fondamentalement, le masque de bits est &quot;and&quot; contre les données des tuiles lorsque la carte des tuiles est <i>dessinée</i> (de sorte qu'il n'affecte pas les autres fonctionnalités), ce qui signifie que les bits qui ne sont pas dans le masque sont ignorés, mais peuvent toujours être lus et écrits par l'utilisateur pour leurs propres besoins. Notez qu'il existe deux masques différents - un global et un par carte de tuiles - et qu'ils sont assemblés par &quot;et&quot; en interne par <span data-keyref="GameMaker Name">GameMaker</span> avant d'être utilisés pour le dessin.</p>
  <p> </p>
  <h4>Syntaxe :</h4>
  <p class="code">tilemap_set_global_mask(mask)</p>
  <table>
    <tbody>
      <tr>
        <th>Arguments</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
      <tr>
        <td><span class="notranslate">mask</span></td>
        <td><span data-keyref="Type_Real">Real</span></td>
        <td><span class="notranslate">The mask value to use</span></td>
      </tr>
    </tbody>
  </table>
  <p> </p>
  <h4>Les retours :</h4>
  <p class="code"><span data-keyref="Type_Void">N/A</span></p>
  <p> </p>
  <h4>Exemple :</h4>
  <p class="code">var mask = tile_mirror | tile_flip | tile_rotate | 255;<br />
    tilemap_set_global_mask(mask);</p>
  <p>Le code ci-dessus définit le masque binaire global de la carte des tuiles à 8 bits, préservant les valeurs d'inversion, de miroir et de rotation pour chaque tuile de la carte.</p>
  <p> </p>
  <p> </p>
  <p> </p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div style="float:left">Retour : <a href="Tile_Map_Layers.htm">Carrelage des couches de la carte</a></div>
        <div style="float:right">Suivant : <a href="tilemap_set_width.htm"> tilemap_set_width </a></div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">Copyright <span class="notranslate">YoYo Games Ltd.</span> 2022 Tous droits réservés</span></h5>
  </div>
  <!-- KEYWORDS
tilemap_set_global_mask
tile_rotate
tile_mirror
tile_flip
tile_index_mask
-->
  <!-- TAGS
tilemap_set_global_mask
-->
</body>
</html>