<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>persistant</title>
  <meta name="generator" content="Adobe RoboHelp 2020" />
  <link rel="stylesheet" href="../../../../../assets/css/default.css" type="text/css" />
  <script src="../../../../../assets/scripts/main_script.js"></script>
  <meta name="rh-authors" content="Mark Alexander" />
  <meta name="topic-comment" content="Page outlining the variable persistent" />
  <meta name="rh-index-keywords" content="persistent" />
  <meta name="search-keywords" content="persistent" />
</head>
<body>
  <!--<div class="body-scroll" style="top: 150px;">-->
  <h1>persistant</h1>
  <p>Cette variable peut être lue pour savoir si l'instance est marquée comme <span class="inline">persistent</span> ou non, ou elle peut être utilisée pour définir la persistance à <span class="inline">true</span> (persistant) ou <span class="inline">false</span> (non persistant) pour l'instance. Une instance persistante est une instance qui sera &quot;reportée&quot; de salle en salle, ce qui signifie (par exemple) qu'elle ne doit être créée qu'une seule fois au début du jeu et qu'elle sera présente dans toutes les salles suivantes. Il faut faire attention à la persistance car il est facile de perdre la trace des instances persistantes, ce qui peut entraîner des problèmes plus tard dans le développement du jeu.</p>
  <p>Lorsque vous créez une instance avec la persistance activée dans une room, cette variable sera définie à <span class="inline">true</span> et un layer ou une profondeur lui sera attribué (selon la fonction que vous avez utilisée pour créer l'instance de l'objet). Lorsque la pièce est changée, et si la pièce suivante <i>n'a pas</i> de couche avec le même nom ou la même profondeur que celle assignée, alors une nouvelle couche sera créée pour l'instance qui persiste à travers les pièces. Si vous avez donné un nom à la couche lors de la création de l'instance, alors la nouvelle couche portera également le même nom que la couche originale, tandis que si vous avez attribué une profondeur à l'instance, alors la nouvelle couche sera nommée &quot;<span class="inline">_layer_XXX</span>&quot;, où &quot;XXX&quot; est une valeur hexadécimale utilisée pour donner un nom unique à la couche. Ces couches seront supprimées de la pièce à la fin de la pièce. Une autre chose à noter à propos des couches et des instances persistantes est que si vous avez assigné à l'instance une couche nommée à la création, et qu'il y a une autre couche dans les salles suivantes avec le même nom, alors l'instance persistée sera assignée à la couche avec le même nom <i>indépendamment de la profondeur de la couche</i>. Enfin, si une instance persistante se déplace dans une pièce avec une couche à la même profondeur que celle où l'instance a été créée, elle <i>ne</i> sera <i>pas</i> assignée à cette couche, mais une nouvelle couche sera créée à la même profondeur (en suivant la convention de dénomination expliquée précédemment).</p>
  <p>Les événements <b>Début de partie</b>, <b>Fin de partie</b>, <b>Début de salle</b> et <b>Fin de salle</b> d'un objet persistant seront toujours déclenchés, mais si vous redémarrez le jeu (avec, par exemple, la fonction <span class="inline">game_restart()</span> ), tous les objets persistants seront supprimés et n'existeront que lorsqu'ils seront recréés par le jeu. Notez également que si vous désactivez un objet persistant, il ne pourra plus passer d'une pièce à l'autre, à moins qu'il ne soit réactivé avant le déclenchement de l'événement de fin de pièce.</p>
  <p> </p>
  <h4>Syntaxe :</h4>
  <p class="code">persistent;</p>
  <p> </p>
  <h4>Les retours :</h4>
  <p class="code"><span data-keyref="Type_Bool"></span></p>
  <p> </p>
  <h4>Exemple :</h4>
  <p class="code">if !persistent<br />
    {<br />
        persistent = true;<br />
    }</p>
  <p>Le code ci-dessus vérifiera l'instance pour voir si la persistance est marquée comme <span class="inline">false</span> et si l'instance n'est PAS persistante, le drapeau de persistance est mis à <span class="inline">true</span>.</p>
  <p> </p>
  <p> </p>
  <p> </p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div style="float:left">Retour : <a href="Instance_Variables.htm">Variables d'instance</a></div>
        <div style="float:right">Suivant : <a href="depth.htm"><span class="notranslate">depth</span></a></div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">Copyright <span class="notranslate">YoYo Games Ltd.</span> 2021 Tous droits réservés</span></h5>
  </div>
  <!-- KEYWORDS
persistent
-->
  <!-- TAGS
persistent
-->
</body>
</html>