<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>animcurve_create</title>
  <meta name="generator" content="Adobe RoboHelp 2020" />
  <link rel="stylesheet" href="../../../../assets/css/default.css" type="text/css" />
  <script src="../../../../assets/scripts/main_script.js"></script>
  <meta name="rh-authors" content="Mark Alexander" />
  <meta name="topic-comment" content="Page explaining the function animcurve_create" />
  <meta name="rh-index-keywords" content="animcurve_create" />
  <meta name="search-keywords" content="animcurve_create" />
  <meta name="is_pure" content="true" />
</head>
<body>
  <!--<div class="body-scroll" style="top: 150px;">-->
  <h1>animcurve_create</h1>
  <p>Cette fonction va créer une <a href="../../../GML_Overview/Structs.htm">structure de</a> courbe d'animation vide, prête à être remplie de données de canaux. La fonction renvoie un pointeur vers le site <span class="notranslate">struct</span>, qui est ensuite utilisé pour ajouter des canaux et d'autres données à la courbe d'animation. Vous pouvez également le fournir à des fonctions telles que <a href="animcurve_get.htm"><span class="inline">animcurve_get()</span></a> pour récupérer ultérieurement les données de la courbe.</p>
  <p>Lorsque vous utilisez cette fonction, le site <span class="notranslate">struct</span> créé ne contiendra aucune donnée. Pour l'utiliser, vous devez ajouter au moins un canal et ce dernier doit comporter des points. Pour ajouter un canal, voir la fonction <a href="animcurve_channel_new.htm"><span class="inline">animcurve_channel_new()</span></a>et pour ajouter des points au canal, voir la fonction <a href="animcurve_point_new.htm"><span class="inline">animcurve_point_new()</span></a>. En outre, vous pouvez donner un nom à la courbe d'animation <span class="notranslate">struct</span> en définissant la variable &quot;name&quot; (comme indiqué dans l'exemple de code ci-dessous). Les canaux ajoutés à une nouvelle courbe d'animation doivent être ajoutés sous forme de <a href="../../../GML_Overview/Arrays.htm">tableau</a>, où chaque élément du tableau fait référence à un canal <span class="notranslate">struct</span>, et les points d'un canal doivent également être ajoutés sous forme de tableau, où chaque élément du tableau fait référence à un point <span class="notranslate">struct</span>.</p>
  <p>Notez que les courbes d'animation créées de cette manière <b>doivent être supprimées lorsqu'elles ne sont plus nécessaires</b>, car sinon elles occupent de l'espace en mémoire, ce qui peut entraîner une fuite de mémoire, ralentir et finalement faire planter votre jeu. Vous pouvez supprimer une courbe d'animation lorsqu'elle n'est plus nécessaire en utilisant la fonction <a href="animcurve_destroy.htm"><span class="inline">animcurve_destroy()</span></a>. Il n'est pas nécessaire de nettoyer les données des canaux ou des points de la courbe, car le ramasseur de déchets s'en chargera automatiquement lorsque la courbe sera détruite.</p>
  <p> </p>
  <p> </p>
  <h4>Syntaxe :</h4>
  <p class="code">animcurve_create();</p>
  <p> </p>
  <h4>Les retours :</h4>
  <p class="code"><span data-keyref="Type_Struct_AnimCurve"><a data-rhwidget="HyperlinkPopover" href="../../../../../GameMaker_Language/GML_Reference/Asset_Management/Animation_Curves/animcurve_get.htm">Animation Curve Struct</a></span></p>
  <p> </p>
  <h4>Exemple :</h4>
  <p class="code">my_curve = animcurve_create();<br />
    my_curve.name = &quot;My_Curve&quot;;<br />
    var _channels = array_create(1);<br />
    _channels[0] = animcurve_channel_new();<br />
    _channels[0].name = &quot;alpha&quot;;<br />
    _channels[0].type = animcurvetype_catmullrom;<br />
    _channels[0].iterations = 8;<br />
    var _points = array_create(3);<br />
    _points[0] = animcurve_point_new();<br />
    _points[0].posx = 0;<br />
    _points[0].value = 0;<br />
    _points[1] = animcurve_point_new();<br />
    _points[1].posx = 0.5;<br />
    _points[1].value = 1;<br />
    _points[2] = animcurve_point_new();<br />
    _points[2].posx = 1;<br />
    _points[2].value = 0;<br />
    _channels[0].points = _points;<br />
    my_curve.channels = _channels;</p>
  <p>Le code ci-dessus crée une nouvelle courbe d'animation <span class="notranslate">struct</span> et la stocke dans la variable &quot;my_curve&quot;. La variable <span class="notranslate">struct</span> est ensuite remplie avec un nom et un tableau de canaux. Le tableau de canaux contient un seul canal avec trois points.</p>
  <p> </p>
  <p> </p>
  <p> </p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div style="float:left">Retour : <a href="Animation_Curves.htm">Courbes d'animation</a></div>
        <div style="float:right">Suivant : <a data-xref="{title}" href="animcurve_exists.htm">animcurve_exists</a></div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">Copyright <span class="notranslate">YoYo Games Ltd.</span> 2022 Tous droits réservés</span></h5>
  </div>
  <!-- KEYWORDS
animcurve_create
-->
  <!-- TAGS
animcurve_create
-->
</body>
</html>