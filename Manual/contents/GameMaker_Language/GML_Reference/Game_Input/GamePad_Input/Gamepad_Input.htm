<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Entrée de la manette de jeu</title>
  <meta name="generator" content="Adobe RoboHelp 2020" />
  <link rel="stylesheet" href="../../../../assets/css/default.css" type="text/css" />
  <script src="../../../../assets/scripts/main_script.js"></script>
  <meta name="rh-authors" content="Mark Alexander" />
  <meta name="topic-comment" content="Reference section for Gamepad Input" />
  <meta name="rh-index-keywords" content="gp_face1,gp_face2,gp_face3,gp_face4,gp_shoulderl,gp_shoulderlb,gp_shoulderr,gp_shoulderrb,gp_select,gp_start,gp_stickl,gp_stickr,gp_padu,gp_padd,gp_padl,gp_padr,gp_axislh,gp_axislv,gp_axisrh,gp_axisrv,gp_axis_acceleration_x,gp_axis_acceleration_y,gp_axis_acceleration_z,gp_axis_angular_velocity_x,gp_axis_angular_velocity_y,gp_axis_angular_velocity_z,gp_axis_orientation_x,gp_axis_orientation_y,gp_axis_orientation_z,gp_axis_orientation_w" />
  <meta name="search-keywords" content="Gamepad Input,gamepads,gp_face1,gp_face2,gp_face3,gp_face4,gp_shoulderl,gp_shoulderlb,gp_shoulderr,gp_shoulderrb,gp_select,gp_start,gp_stickl,gp_stickr,gp_padu,gp_padd,gp_padl,gp_padr,gp_axislh,gp_axislv,gp_axisrh,gp_axisrv,gp_axis_acceleration_x,gp_axis_acceleration_y,gp_axis_acceleration_z,gp_axis_angular_velocity_x,gp_axis_angular_velocity_y,gp_axis_angular_velocity_z,gp_axis_orientation_x,gp_axis_orientation_y,gp_axis_orientation_z,gp_axis_orientation_w" />
</head>
<body>
  <!--<div class="body-scroll" style="top: 150px;">-->
  <h1>Entrée de la manette de jeu</h1>
  <p><b></b><span data-keyref="GameMaker Name">GameMaker</span> dispose d'un certain nombre de fonctions dédiées qui peuvent être utilisées pour détecter les commandes analogiques et numériques de plusieurs manettes de jeu connectées. Ces fonctions fonctionnent de la même manière que les <a href="../Device_Input/Device_Input.htm">entrées du périphérique</a>, en ce sens que vous pouvez détecter jusqu'à quatre manettes de jeu XInput différentes qui sont connectées (et jusqu'à 8 manettes de jeu DirectInput) et traiter l'entrée de chacune d'elles en utilisant les mêmes fonctions. Notez que lorsqu'une manette de jeu est branchée à votre appareil (ou qu'elle est retirée), un <a href="../../../../The_Asset_Editors/Object_Properties/Async_Events.htm">événement système</a> asynchrone est déclenché et vous pouvez gérer la situation à l'aide des fonctions appropriées.</p>
  <p>Les &quot;slots&quot; pour les manettes de jeu sont indexés à partir de 0, et le slot réel attribué à une manette de jeu dépend d'une variété de facteurs, notamment du système d'exploitation sur lequel le projet est exécuté. Sur la cible <strong>Windows</strong>, les slots 0 - 3 inclus sont <i>uniquement pour les gamepads Xinput</i>, c'est-à-dire les manettes Xbox360 et compatibles. Cependant, vous pouvez également vérifier les emplacements 4 à 11 inclus pour les manettes de jeu <i>DirectInput</i>, ce qui signifie que vous pouvez détecter de nombreux autres modèles de manettes lorsqu'elles sont connectées à ces emplacements. Sur d'autres plateformes, les manettes peuvent être détectées sur <em>n'importe quel</em> emplacement que le système d'exploitation leur a attribué, qui peut être l'emplacement 3 ou l'emplacement 20 ou plus. Par exemple, les appareils <strong>Android</strong> stockent les manettes de jeu Bluetooth dans un emplacement et réservent ensuite cet emplacement à cette manette à l'avenir, qu'elle soit connectée ou non. Vous <em>ne pouvez</em> donc <em>pas</em> supposer qu'une seule manette de jeu connectée est connectée à l'emplacement 0, car ce ne sera probablement pas le cas.</p>
  <p>Il convient de noter que lorsque vous utilisez des manettes de jeu à entrée directe sur <span class="notranslate">Windows</span>, ou des manettes de jeu génériques sur d'autres plates-formes, les constantes indiquées ci-dessous <strong>peuvent ne pas correspondre exactement aux boutons que vous attendez lorsque vous appuyez dessus</strong>, en raison de la manière fragmentée et non standardisée dont l'API est implémentée par les fabricants de manettes. Pour cette raison, il est recommandé d'intégrer à vos jeux une sorte d'écran de configuration du gamepad permettant aux joueurs de redéfinir les boutons du gamepad en fonction des entrées provenant de tout périphérique connecté, afin d'atténuer tout problème (il existe des fonctions de &quot;mappage&quot; du gamepad qui peuvent vous aider à le faire sur les cibles <span class="notranslate">Windows</span> Desktop, <span class="notranslate">Ubuntu</span>, <span class="notranslate">macOS</span> et <span class="notranslate">Android</span>, tandis que sur toutes les autres cibles, vous devrez le faire vous-même en utilisant du code).</p>
  <h2>Constantes d'entrée</h2>
  <p>Lorsque vous travaillez avec les fonctions du gamepad, les entrées peuvent provenir d'<strong>axes</strong>, de <strong>boutons</strong> ou de <strong>chapeaux</strong>, que <span data-keyref="GameMaker Name">GameMaker</span> affectera aux constantes intégrées suivantes (notez que les &quot;chapeaux&quot; ne sont généralement détectés que sur les manettes non standard) :</p>
  <table>
    <tbody>
      <tr>
        <th colspan="2"><span data-keyref="Type_Constant_Gamepad_Button"><a data-rhwidget="HyperlinkPopover" href="../../../../../GameMaker_Language/GML_Reference/Game_Input/GamePad_Input/gamepad_axis_value.htm">Bouton de la manette de jeu constant</a></span></th>
      </tr>
      <tr>
        <th>Constant</th>
        <th>Description</th>
      </tr>
      <tr>
        <td><span class="notranslate"><span class="inline">gp_face1</span></td>
        <td>Bouton supérieur 1 (correspond au <i>&quot;A&quot;</i> d'une manette Xbox 360 et à la <i>croix</i> d'une manette PS)</td>
      </tr>
      <tr>
        <td><span class="notranslate"><span class="inline">gp_face2</span></td>
        <td>Bouton supérieur 2 (correspond au <i>&quot;B&quot;</i> sur une manette Xbox 360 et au <i>cercle</i> sur une manette PS)</td>
      </tr>
      <tr>
        <td><span class="notranslate"><span class="inline">gp_face3</span></td>
        <td>Bouton supérieur 3 (correspond au <i>&quot;X&quot;</i> d'une manette Xbox 360 et au <i>carré</i> d'une manette PS)</td>
      </tr>
      <tr>
        <td><span class="notranslate"><span class="inline">gp_face4</span></td>
        <td>Bouton supérieur 4 (correspond au <i>&quot;Y&quot;</i> d'une manette Xbox 360 et au <i>triangle</i> d'une manette PS)</td>
      </tr>
      <tr>
        <td><span class="notranslate"><span class="inline">gp_shoulderl</span></td>
        <td>Bouton d'épaule gauche</td>
      </tr>
      <tr>
        <td><span class="notranslate"><span class="inline">gp_shoulderlb</span></td>
        <td>Gâchette de l'épaule gauche</td>
      </tr>
      <tr>
        <td><span class="notranslate"><span class="inline">gp_shoulderr</span></td>
        <td>Bouton d'épaule droit</td>
      </tr>
      <tr>
        <td><span class="notranslate"><span class="inline">gp_shoulderrb</span></td>
        <td>Gâchette épaule droite</td>
      </tr>
      <tr>
        <td><span class="notranslate"><span class="inline">gp_select</span></td>
        <td>le bouton de sélection (sur une manette DS4, il se déclenche lorsque vous appuyez sur le pavé tactile)</td>
      </tr>
      <tr>
        <td><span class="notranslate"><span class="inline">gp_start</span></td>
        <td>Le bouton de démarrage (c'est le bouton &quot;options&quot; sur une manette PS4)</td>
      </tr>
      <tr>
        <td><span class="notranslate"><span class="inline">gp_stickl</span></td>
        <td>Le stick gauche appuyé (comme un bouton)</td>
      </tr>
      <tr>
        <td><span class="notranslate"><span class="inline">gp_stickr</span></td>
        <td>Le stick droit appuyé (comme un bouton)</td>
      </tr>
      <tr>
        <td><span class="notranslate"><span class="inline">gp_padu</span></td>
        <td>Pavé numérique vers le haut</td>
      </tr>
      <tr>
        <td><span class="notranslate"><span class="inline">gp_padd</span></td>
        <td>Pédale D vers le bas</td>
      </tr>
      <tr>
        <td><span class="notranslate"><span class="inline">gp_padl</span></td>
        <td>D-pad gauche</td>
      </tr>
      <tr>
        <td><span class="notranslate"><span class="inline">gp_padr</span></td>
        <td>D-pad droit</td>
      </tr>
    </tbody>
  </table>
  <table>
    <colgroup>
      <col />
      <col />
    </colgroup>
    <tbody>
      <tr>
        <th colspan="2"><span data-keyref="Type_Constant_Gamepad_Axis"><a data-rhwidget="HyperlinkPopover" href="../../../../../GameMaker_Language/GML_Reference/Game_Input/GamePad_Input/gamepad_axis_value.htm">Constante d'axe de la manette de jeu</a></span></th>
      </tr>
      <tr>
        <th>Constant</th>
        <th>Description</th>
      </tr>
      <tr>
        <td><span class="notranslate"><span class="inline">gp_axislh</span></td>
        <td>Axe horizontal du stick gauche (analogique)</td>
      </tr>
      <tr>
        <td><span class="notranslate"><span class="inline">gp_axislv</span></td>
        <td>Axe vertical du manche gauche (analogique)</td>
      </tr>
      <tr>
        <td><span class="notranslate"><span class="inline">gp_axisrh</span></td>
        <td>Axe horizontal du manche droit (analogique)</td>
      </tr>
      <tr>
        <td><span class="notranslate"><span class="inline">gp_axisrv</span></td>
        <td>Axe vertical du manche droit (analogique)</td>
      </tr>
      <tr>
        <th colspan="2">Les constantes ci-dessous ne peuvent être utilisées qu'avec le gamepad DualSense sur une PS4 ou PS5.</th>
      </tr>
      <tr>
        <td><span class="notranslate"><span class="inline">gp_axis_acceleration_x</span>*</td>
        <td>L'accélération du gamepad sur l'axe X</td>
      </tr>
      <tr>
        <td><span class="notranslate"><span class="inline">gp_axis_acceleration_y</span>*</td>
        <td>L'accélération du gamepad sur l'axe Y</td>
      </tr>
      <tr>
        <td><span class="notranslate"><span class="inline">gp_axis_acceleration_z</span>*</td>
        <td>L'accélération du gamepad sur l'axe Z</td>
      </tr>
      <tr>
        <td><span class="notranslate"><span class="inline">gp_axis_angular_velocity_x</span>*</td>
        <td>La vitesse angulaire du gamepad sur l'axe X</td>
      </tr>
      <tr>
        <td><span class="notranslate"><span class="inline">gp_axis_angular_velocity_y</span>*</td>
        <td>La vitesse angulaire du gamepad sur l'axe Y</td>
      </tr>
      <tr>
        <td><span class="notranslate"><span class="inline">gp_axis_angular_velocity_z</span>*</td>
        <td>La vitesse angulaire du gamepad sur l'axe Z</td>
      </tr>
      <tr>
        <td><span class="notranslate"><span class="inline">gp_axis_orientation_x</span>*</td>
        <td>L'orientation X du gamepad</td>
      </tr>
      <tr>
        <td><span class="notranslate"><span class="inline">gp_axis_orientation_y</span>*</td>
        <td>L'orientation Y du gamepad</td>
      </tr>
      <tr>
        <td><span class="notranslate"><span class="inline">gp_axis_orientation_z</span>*</td>
        <td>L'orientation Z du gamepad</td>
      </tr>
      <tr>
        <td><span class="notranslate"><span class="inline">gp_axis_orientation_w</span>*</td>
        <td>L'orientation W du gamepad</td>
      </tr>
    </tbody>
  </table>
  <p class="note"><span class="note">REMARQUE</span> L'<strong>orientation</strong> du gamepad est un <a href="https://en.wikipedia.org/wiki/Quaternion" title="Quaternion">quaternion</a>, c'est pourquoi il a quatre valeurs (X, Y, Z et W).<br>
    <br>
    * Ces constantes ne sont supportées que sur PS4 et PS5, et lorsqu'elles sont utilisées sur d'autres plateformes, les fonctions d'entrée renverront <span class="inline">0</span>, même en utilisant un gamepad DualSense.
  </p>
  <p>Pour mieux comprendre quelle partie du contrôleur chaque constante représente exactement, vous pouvez vous référer à l'image suivante d'une manette de jeu XInput standard :</p>
  <p><img alt="Xinput gamepad illustration" class="center" src="../../../../assets/Images/Scripting_Reference/GML/Reference/Game_Input/GamePad.png" /></p>
  <h2>Fonctions</h2>
  <p>Vous trouverez ci-dessous une liste de toutes les fonctions du gamepad :</p>
  <ul class="colour">
    <li><a href="gamepad_is_supported.htm"><span class="notranslate">gamepad_is_supported</span></a></li>
    <li><a href="gamepad_is_connected.htm"><span class="notranslate">gamepad_is_connected</span></a></li>
    <li><a href="gamepad_get_guid.htm"><span class="notranslate">gamepad_get_guid</span></a></li>
    <li><a href="gamepad_get_device_count.htm"><span class="notranslate">gamepad_get_device_count</span></a></li>
    <li><a href="gamepad_get_description.htm"><span class="notranslate">gamepad_get_description</span></a></li>
    <li><a href="gamepad_get_button_threshold.htm"><span class="notranslate">gamepad_get_button_threshold</span></a></li>
    <li><a href="gamepad_get_axis_deadzone.htm"><span class="notranslate">gamepad_get_axis_deadzone</span></a></li>
    <li><a href="gamepad_get_option.htm"><span class="notranslate">gamepad_get_option</span></a></li>
    <li><a href="gamepad_set_button_threshold.htm"><span class="notranslate">gamepad_set_button_threshold</span></a></li>
    <li><a href="gamepad_set_axis_deadzone.htm"><span class="notranslate">gamepad_set_axis_deadzone</span></a></li>
    <li><a href="gamepad_set_vibration.htm"><span class="notranslate">gamepad_set_vibration</span></a></li>
    <li><a href="gamepad_set_colour.htm"><span class="notranslate">gamepad_set_colour</span></a></li>
    <li><a href="gamepad_set_option.htm"><span class="notranslate">gamepad_set_option</span></a></li>
    <li><a href="gamepad_axis_count.htm"><span class="notranslate">gamepad_axis_count</span></a></li>
    <li><a href="gamepad_axis_value.htm"><span class="notranslate">gamepad_axis_value</span></a></li>
    <li><a href="gamepad_button_check.htm"><span class="notranslate">gamepad_button_check</span></a></li>
    <li><a href="gamepad_button_check_pressed.htm"><span class="notranslate">gamepad_button_check_pressed</span></a></li>
    <li><a href="gamepad_button_check_released.htm"><span class="notranslate">gamepad_button_check_released</span></a></li>
    <li><a href="gamepad_button_count.htm"><span class="notranslate">gamepad_button_count</span></a></li>
    <li><a href="gamepad_button_value.htm"><span class="notranslate">gamepad_button_value</span></a></li>
    <li><a href="gamepad_hat_count.htm"><span class="notranslate">gamepad_hat_count</span></a></li>
    <li><a href="gamepad_hat_value.htm"><span class="notranslate">gamepad_hat_value</span></a></li>
  </ul>
  <p> </p>
  <p>Les fonctions gamepad suivantes existent également et sont utilisées pour remapper les constantes intégrées aux entrées physiques directes d'un gamepad donné. Ces fonctions sont uniquement destinées aux plates-formes cibles <span class="notranslate">Windows</span> Desktop, <span class="notranslate">Ubuntu</span>, <span class="notranslate">macOS</span>, et <span class="notranslate">Android</span> et sur <span class="notranslate">Windows</span>, elles ne seront valables que pour les périphériques à entrée directe. Bien que <span data-keyref="GameMaker Name">GameMaker</span> soit livré avec des mappages pour un certain nombre de manettes de jeu différentes basés sur la <a href="https://github.com/gabomdq/SDL_GameControllerDB" target="_blank">SDL Gamepad Controller DB</a>, il est impossible de mapper les constantes <span class="notranslate">GML</span> aux entrées correctes pour chaque marque et chaque modèle en raison du grand nombre de types et de marques de manettes.</p>
  <ul class="colour">
    <li><a href="gamepad_get_mapping.htm"><span class="notranslate">gamepad_get_mapping</span></a></li>
    <li><a href="gamepad_test_mapping.htm"><span class="notranslate">gamepad_test_mapping</span></a></li>
    <li><a href="gamepad_remove_mapping.htm"><span class="notranslate">gamepad_remove_mapping</span></a></li>
  </ul>
  <p> </p>
  <p> <span class="notranslate">access</span> Il convient de noter que les manettes de jeu à entrée directe sont exécutées en <i>mode coopératif</i>, ce qui signifie que votre jeu n'a accès à ces manettes que lorsqu'il est l'application de premier plan, ce qui fait que les manettes de jeu à entrée directe sont &quot;perdues&quot; si le jeu perd le focus, puis &quot;retrouvées&quot; lorsqu'il revient au focus (ceci peut être détecté dans l'événement système et traité). De même, aucune entrée provenant des manettes de jeu ne sera détectée lorsque le jeu n'est pas au point, et nous vous recommandons d'utiliser la fonction <a href="../../OS_And_Compiler/os_is_paused.htm"><span class="inline">os_is_paused()</span></a> ou <a href="../../Cameras_And_Display/The_Game_Window/window_has_focus.htm"><span class="inline">window_has_focus()</span></a> pour détecter cela et mettre le jeu en pause ou quelque chose de similaire, car tout bouton maintenu enfoncé au moment où le jeu perd le focus conservera cet état jusqu'à ce que le jeu retrouve le focus.</p>
  <h2>Compatibilité</h2>
  <p>La liste suivante indique la compatibilité actuelle entre les différentes plates-formes (notez que cela changera avec les futures mises à jour) :</p>
  <ul class="colour">
    <li><strong>Windows </strong>est entièrement pris en charge avec un maximum de 12 périphériques connectés à la fois (numérotés de 0 à 11, avec 0 - 3 étant des périphériques XInput et 4 - 11 étant DirectInput). Le remappage des constantes du contrôleur est également autorisé.</li>
    <li><strong>macOS </strong>est pris en charge avec un maximum de 4 appareils connectés autorisés en même temps, et ces appareils peuvent UNIQUEMENT être du type Playstation3 ou Xbox 360. Veuillez noter que l'option &quot;Build for Mac AppStore&quot; dans Mac Game Options doit être désactivée pour que le support des manettes fonctionne. Le remappage des constantes de la manette est également autorisé.</li>
    <li><strong>Ubuntu </strong>prend également en charge l'entrée Gamepad, mais vous devrez peut-être installer des bibliothèques supplémentaires à partir du dépôt <span class="notranslate">Ubuntu</span>. Vous pouvez le faire facilement en ouvrant un terminal de ligne de commande et en tapant ce qui suit (ceci installera le support GUI pour le joystick/gamepad ainsi que l'API joystick/gamepad elle-même - le remappage des constantes du contrôleur <i>n'</i> est <i>pas</i> autorisé) :
     <p class="code">sudo apt-get install jstest-gtk<br />
        sudo apt-get install joystick.</p>
    </li>
    <li>Les jeux<strong>HTML5 </strong>utilisant des manettes de jeu sont pris en charge par la plupart des principaux navigateurs, à l'exception de <i>Safari</i>. Le remappage des constantes du contrôleur <i>n'</i> est <i>pas</i> autorisé.</li>
    <li>Les navigateurs Web ne détectent les manettes de jeu que lorsqu'un bouton est enfoncé ou qu'un axe est déplacé, de sorte qu'elles peuvent ne pas être disponibles au début immédiat du jeu. Ceci s'applique aux plateformes cibles <strong>Opera GX</strong> et <strong>HTML </strong>.</li>
    <li>La prise en charge de la manette de jeu s'étend également à <strong>iOS </strong>avec le boîtier iCade. L'axe gauche correspond à la manette (bien que l'entrée soit numérique, et non analogique), les quatre boutons &quot;frontaux&quot; correspondent aux boutons avant du boîtier, et les quatre boutons d'épaule correspondent à ceux de l'arrière du boîtier.</li>
    <li>L'exportation<strong>Android </strong>(et <strong>Amazon Fire</strong>) prend en charge les contrôleurs NYKO et les contrôleurs Bluetooth génériques, mais uniquement lorsqu'ils sont activés, ce qui signifie que vous devrez cocher l'option iCade/Bluetooth dans la section <a href="../../../../Settings/Game_Options/Android.htm">Général</a> des options de jeu de <span class="notranslate">Android</span>. Ils nécessitent le niveau 12 de l'API pour fonctionner pleinement et il convient de noter que <span data-keyref="GameMaker Name">GameMaker</span> enregistrera comme connectés tous les périphériques Bluetooth avec lesquels votre appareil est apparié, qu'il soit réellement connecté ou non. Il faut donc en tenir compte lors de l'attribution et de la vérification des &quot;slots&quot;. Notez que le remappage des constantes du contrôleur est également autorisé.</li>
    <li>Sur la <strong>PS4</strong>, si vous voulez utiliser le suivi du pavé tactile, vous devez utiliser les <a href="../Device_Input/Device_Input.htm"><span class="inline">device_mouse_*</span></a> boutons. Le remappage des constantes de la manette <i>n'</i> est <i>pas</i> autorisé.</li>
    <li>Sur les cibles <strong>Windows </strong><strong>UWP</strong>, <strong>XBoxOne </strong>et <strong>Nintendo Switch</strong>, les manettes de jeu sont entièrement prises en charge, mais le remappage des constantes de la manette <i>n'</i> est <i>pas</i> autorisé.</li>
  </ul>
  <p>Idéalement, sur <i>toutes les</i> plates-formes cibles, vous voulez énumérer une liste de &quot;slots&quot; de manettes de jeu disponibles et ensuite les vérifier pour voir si des périphériques sont détectés, quelque chose comme ceci :</p>
  <p class="code">var _maxpads = gamepad_get_device_count();<br />
    <br />
    for (var i = 0; i &lt; _maxpads; i++)<br />
    {<br />
        if (gamepad_is_connected(i))<br />
        {<br />
            // do stuff with pad &quot;i&quot;<br />
        }<br />
    }
  </p>
  <p> </p>
  <p> </p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div style="float:left">Retour : <a href="../Game_Input.htm">Entrée du jeu</a></div>
        <div style="float:right">Suivant : <a href="../Virtual_Keys_And_Keyboards/Virtual_Keys_And_Keyboards.htm">Touches et claviers virtuels</a></div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">Copyright <span class="notranslate">YoYo Games Ltd.</span> 2022 Tous droits réservés</span></h5>
  </div>
  <!-- KEYWORDS
Gamepad Input Functions
gp_face1
gp_face2
gp_face3
gp_face4
gp_shoulderl
gp_shoulderlb
gp_shoulderr
gp_shoulderrb
gp_select
gp_start
gp_stickl
gp_stickr
gp_padu
gp_padd
gp_padl
gp_padr
gp_axislh
gp_axislv
gp_axisrh
gp_axisrv
gp_axis_acceleration_x
gp_axis_acceleration_y
gp_axis_acceleration_z
gp_axis_angular_velocity_x
gp_axis_angular_velocity_y
gp_axis_angular_velocity_z
gp_axis_orientation_x
gp_axis_orientation_y
gp_axis_orientation_z
gp_axis_orientation_w
-->
  <!-- TAGS
gamepad_functions
-->
</body>
</html>