<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Construction du code du bloc d'action</title>
    <meta name="generator" content="Adobe RoboHelp 2020" />
    <link rel="stylesheet" href="../../assets/css/default.css" type="text/css" />
    <script src="../../assets/scripts/main_script.js"></script>
    <meta name="rh-authors" content="Mark Alexander" />
    <meta name="topic-comment" content="Article explaining how to construct GML Visual actions" />
    <meta name="rh-index-keywords" content="GML Visual Overview - Constructing Action Block Code" />
    <meta name="search-keywords" content="GML Visual Comments" />
  </head>
  <body><!--<div class="body-scroll" style="top: 150px;">-->
    <h1>Construction du code du bloc d'action</h1>
    <p>Pour ajouter des comportements aux objets, vous pouvez construire votre code en utilisant les <strong>actions </strong>des différentes bibliothèques disponibles dans la <strong>boîte à outils Action</strong>. Pour commencer, vous devez créer un <a href="../../Introduction/The_Start_Page.htm">nouveau projet <span class="notranslate">GML</span> Visual</a>, puis créer un nouvel <a href="../../The_Asset_Editors/Objects.htm">objet</a> (vous pouvez également lui attribuer un <a href="../../The_Asset_Editors/Sprites.htm">sprite</a> si nécessaire). Dans votre nouvel objet, vous pouvez commencer à ajouter <a href="../../The_Asset_Editors/Object_Properties/Object_Events.htm"><span class="notranslate">events</span></a>et dans les événements, ajoutez vos actions de code <span class="notranslate">GML</span> Visual.</p>
    <p><img>Notez que lorsque vous ajoutez un nouvel événement, une fenêtre de &quot;code&quot; s'ouvre avec un onglet pour l'événement donné (voir l'image ci-dessus), et vous pouvez maintenant faire glisser n'importe quelle action que vous souhaitez de la boîte à outils sur la droite dans le volet Bloc d'action de la fenêtre de code. Maintenant, s'il est vrai que vous pouvez ajouter n'importe quelle action, cela ne signifie pas qu'elles fonctionneront toutes ou que le projet sera compilé avec elles. Certaines actions nécessitent au moins une <a class="glossterm" data-glossterm="variable" href="#">variable</a> pour fonctionner, tandis que d'autres - comme les actions de <a href="../Drag_And_Drop_Reference/Drawing/Drawing_Actions.htm">dessin</a> - ne fonctionneront que si elles sont utilisées dans un événement spécifique. Comment savoir quelles actions utiliser ? Eh bien, en général, il s'agit simplement d'utiliser la logique... si une action nécessite une variable et que nous n'en avons pas encore défini une, alors nous ne devrions pas l'utiliser tant que nous n'avons pas ajouté une action pour créer la variable.</p>
    <p>Lorsque vous faites glisser une action de la boîte à outils vers l'espace de travail principal du bloc d'action, elle s'étend pour vous montrer les<span class="glossextra">arguments</span> (paramètres) disponibles que vous pouvez remplir et modifier pour définir le comportement. Dans l'image ci-dessous, nous avons fait glisser une action d'<a href="../Drag_And_Drop_Reference/Common/Assign_Variable.htm">affectation de variable</a> de la <a href="../Drag_And_Drop_Reference/Common/Common_Actions_Library.htm">bibliothèque commune de</a> la boîte à outils vers l'espace de travail du bloc d'action :</p>
    <p><img>Vous pouvez voir que la nouvelle action est également affichée à gauche de la fenêtre de code sous une forme abrégée. Vous pouvez cliquer sur cette liste d'actions, appelée "Aperçu des actions", pour accéder rapidement à l'action en question et la modifier. Vous pouvez continuer à ajouter des actions à l'événement si nécessaire, chaque nouvelle action étant &quot;enchaînée&quot; à la précédente pour montrer le flux du code <span class="notranslate">GML</span> Visual que vous construisez. Notez que la zone où vous pouvez déposer d'autres actions est mise en évidence sous l'action initiale et, selon l'action que vous utilisez, différentes zones seront mises en évidence pour montrer où vous pouvez l'ajouter dans la chaîne :</p>
    <p><img>Au fur et à mesure que vous ajoutez des actions à l'espace de travail, elles sont &quot;enchaînées&quot; aux actions précédentes, de sorte que vous pouvez voir comment le code de <span class="notranslate">GML</span> Visual s'écoule, une action menant à une autre, et le volet d'aperçu les montre sous forme abrégée et dans l'ordre d'exécution :</p>
    <p><img>Certaines actions placent le code dans une chaîne séparée du flux principal - des éléments comme <a href="../Drag_And_Drop_Reference/Common/If_Variable.htm">If Variable</a> créent une <em>sous-chaîne</em> d'actions qui doivent se produire si les conditions correctes sont remplies avant de continuer avec la chaîne principale :</p>
    <p><img>Notez que lorsque vous utilisez des actions qui peuvent avoir un bloc de chaîne latéral comme celui-ci, l'action aura <em>deux </em>zones mises en évidence pour l'abandon d'autres actions :</p>
    <ul class="colour">
      <li>Un en dessous de l'action normale</li>
      <li>Un à droite de l'action pour montrer que vous voulez créer un bloc séparé d'actions à exécuter lorsque la condition de la première action devient vraie.</li>
    </ul>
    <p><img>Vous pouvez modifier la position des actions au sein de la chaîne en cliquant simplement sur <img> et en les faisant glisser vers la nouvelle position souhaitée. Si vous cliquez sur <img> et maintenez la pression pendant une seconde puis déplacez la souris, vous pouvez déplacer l'action dans l'espace de travail tout en conservant sa place au sein de la chaîne de blocs d'action.</p>
    <p>Il est également possible d'ajouter des <strong>commentaires</strong> à <span class="notranslate">GML</span> Visual actions, de sorte que vous pouvez laisser des notes à côté de différents blocs pour expliquer ce qu'ils font (ce qui est particulièrement utile lorsque vous travaillez en équipe) :</p>
    <p><img>Pour en savoir plus sur cette fonctionnalité, consultez la page sur le <a href="Right_Mouse_Button_Menu_Options.htm">menu du bouton droit de la souris</a>.</p>
    <p>Voilà pour les bases de l'utilisation de l'éditeur de code visuel <span class="notranslate">GML</span>, mais il existe d'autres détails importants expliqués dans les sections ci-dessous :</p>
    <p> </p>
    <p><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down1" href="#">Variables cibles</a></p>
    <div class="droptext" data-targetname="drop-down1">
      <p class="dropspot">Il est important de noter que de nombreuses actions offrent une variable &quot;cible&quot;, qui peut être marquée comme &quot;temporaire&quot;, par exemple :</p>
      <p class="dropspot"><img>Cela signifie que vous pouvez fournir une variable qui sera la cible de la valeur renvoyée par l'action. Dans l'exemple d'action ci-dessus, l'action renvoie le volume de la ressource audio que vous sélectionnez, vous fournissez donc une variable cible pour contenir cette valeur afin de pouvoir la référencer ultérieurement.</p>
      <p class="dropspot">Maintenant, cette variable cible devra avoir été déclarée auparavant, soit en utilisant l'option &quot; <a href="../Drag_And_Drop_Reference/Common/Assign_Variable.htm">Assign Variable&quot;</a> (qui crée une <strong>variable d'instance</strong>) ou <a href="../Drag_And_Drop_Reference/Common/Declare_Temporary_Variable.htm">&quot;Declare Temporary Variable&quot;</a> (qui crée une <strong>variable locale temporaire</strong>). Si vous cochez l'option &quot;Temp&quot;, vous pouvez simplement ajouter un nom de variable et l'action créera cette variable et la définira pour contenir la valeur de retour pour vous (en créant une variable locale temporaire). Toutes les actions utilisées par la suite peuvent maintenant <span class="notranslate">access</span> la valeur de la variable temporaire, <strong>mais uniquement dans le même événement ou script</strong>. Les variables temporaires ne sont disponibles que dans le cadre où elles ont été créées. Pour des informations plus approfondies sur les variables et leur champ d'application, veuillez consulter <a href="../../GameMaker_Language/GML_Overview/Variables_And_Variable_Scope.htm">ce lien</a>.</p>
      <p class="dropspot"> </p>
    </div>
    <p><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down2" href="#">Champ d'action</a></p>
    <div class="droptext" data-targetname="drop-down2">
      <p class="dropspot">Non seulement les variables ont des champs d'application (voir la section <strong>Variables cibles </strong>, ci-dessus), mais les actions peuvent également avoir différents champs d'application. En fait, presque toutes les actions peuvent être dotées d'un champ d'application différent pour travailler, défini à partir de la fenêtre déroulante ouverte dans l'action elle-même, comme illustré ici :</p>
      <p class="dropspot"><img>Vous pouvez également définir la portée de toutes les autres actions en utilisant l'action spéciale <a href="../Drag_And_Drop_Reference/Common/Apply_To...htm">Appliquer à</a>. Pour plus d'informations sur cette fonctionnalité des actions visuelles <span class="notranslate">GML</span>, veuillez consulter ici :</p>
      <ul class="dropspotlist">
        <li class="dropspot"><a href="Applying_Actions_To_Other_Instances.htm">Appliquer des actions à d'autres instances</a></li>
      </ul>
      <p class="dropspot"> </p>
    </div>
    <p><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down3" href="#">Auto Complete</a></p>
    <div class="droptext" data-targetname="drop-down3">
      <p class="dropspot">Lorsque vous travaillez avec <span class="notranslate">GML</span> Visual, vous devez ajouter des variables et des expressions dans les différents champs de saisie des actions. Cependant, au fur et à mesure que vous le ferez, la fenêtre de <strong>saisie automatique</strong> apparaîtra pour vous aider :</p>
      <p class="dropspot"><img>Cette fenêtre contextuelle répertorie toutes les variables, constantes et fonctions intégrées à <span class="notranslate">GML</span> (<span class="notranslate">GameMaker Language</span>), ainsi que toutes les ressources contenant les lettres initiales de ce que vous avez tapé. Elle peut être utilisée pour trouver rapidement la ressource ou la variable que vous souhaitez pour l'action sans avoir à la saisir vous-même. Par exemple, si toutes vos pièces ont le préfixe &quot;<span class="inline">rm_</span>&quot;, en tapant ce préfixe et en attendant un moment, la fenêtre d'auto-complétion affichera toutes les ressources commençant par &quot;<span class="inline">rm_</span>&quot;. Notez que toutes les variables intégrées qui sont affichées dans la fenêtre d'auto-complétion peuvent être utilisées partout où une variable ou une expression est attendue dans une action, comme la plupart des fonctions de <span class="notranslate">GML</span>.</p>
      <p class="dropspot"> </p>
    </div>
    <p><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down4" href="#">Action Expansion</a></p>
    <div class="droptext" data-targetname="drop-down4">
      <p class="dropspot">Parfois, lorsque vous utilisez une action, vous verrez une petite icône plus <img> sur le côté. Cela signifie que vous pouvez développer l'action pour effectuer des tâches supplémentaires ou prendre d'autres arguments. Par exemple, si vous regardez l'action <a href="../Drag_And_Drop_Reference/Common/Declare_Temporary_Variable.htm">Declare Temporary Variables</a>, vous pouvez voir qu'elle a cette icône :</p>
      <p class="dropspot"><img>Lorsque vous cliquez sur l'icône, l'action <em>se développe </em>et vous permet de déclarer davantage de variables, ce qui facilite et accélère la définition de plusieurs variables en même temps.</p>
      <p class="dropspot"><img>L'icône peut également être utilisée pour les actions qui nécessitent des arguments <strong>facultatifs </strong>, comme l'action <a href="../Drag_And_Drop_Reference/Random/Choose.htm">Choisir</a>, qui vous permet d'ajouter différentes valeurs à renvoyer :</p>
      <p class="dropspot"><img alt="GML Visual Create Event" class="center" src="../../assets/Images/Scripting_Reference/Drag_And_Drop/Overview/DnD_Create_Event.png"/></p>
    </div>
    <p> </p>
    <p> </p>
    <p> </p>
    <div class="footer">
      <div class="buttons">
        <div class="clear">
          <div style="float:left">Retour : <a href="../../Content.htm">Index</a></div>
          <div style="float:right">Suivant : <a href="Applying_Actions_To_Other_Instances.htm">Appliquer des actions à d'autres instances</a></div>
        </div>
      </div>
      <h5><span data-keyref="Copyright Notice">Copyright <span class="notranslate">YoYo Games Ltd.</span> 2021 Tous droits réservés</span></h5>
    </div>
    <h5><span data-keyref="Copyright Notice">© Copyright YoYo Games Ltd. 2025 All Rights Reserved</span></h5>
  </div>
  <!-- KEYWORDS
GML Visual Construction
-->
  <!-- TAGS
drag_and_drop_construction
-->
</body>
</html>