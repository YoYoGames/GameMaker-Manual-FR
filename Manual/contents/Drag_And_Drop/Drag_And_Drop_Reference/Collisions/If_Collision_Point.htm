<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Si le point de collision</title>
  <meta name="generator" content="Adobe RoboHelp 2019" />
  <link rel="stylesheet" href="../../../assets/css/default.css" type="text/css" />
  <script src="../../../assets/scripts/main_script.js"></script>
  <meta name="rh-authors" content="Mark Alexander" />
  <meta name="topic-comment" content="Page that explains the If Collision Point action" />
  <meta name="rh-index-keywords" content="GML Visual Action - If Collision Point" />
  <meta name="search-keywords" content="If Collision Point" />
</head>
<body>
  <!--<div class="body-scroll" style="top: 150px;">-->
  <h1><img> Si le point de collision</h1>
  <p>Cette action est utilisée pour vérifier s'il y a une collision avec une ou plusieurs instances d'un objet donné à un endroit précis de la pièce. Elle sera évaluée à <span class="inline">true</span> si une collision est détectée, ou à <span class="inline">false</span> sinon. Vous donnez à l'objet
    à vérifier et la position à vérifier - qui peut être une position absolue dans la pièce ou une position relative à l'instance - et vous pouvez également cocher le drapeau <b>Not</b> pour vérifier qu'il <i>n'y a pas</i> de collision à la position donnée.
    que l'action sera alors évaluée comme <span class="inline">true</span> si <i>aucune</i> collision <i>n'</i> est trouvée, sinon elle sera évaluée comme <span class="inline">false</span>. Vous pouvez également définir l'option <b>Exclude Self</b> pour exclure l'instance appelante du contrôle de collision.</p>
  <p>Ensuite, vous pouvez cocher/décocher l'option " <b>Return List"</b>. Si vous cochez cette option, l'action créera et remplira une structure de données de type <a href="../Data_Structures/Data_Structure_Actions.htm">liste</a><span> </span>avec <i>toutes les</i> instances en collision avec le point.
    avec le point et définira la variable <b>Target</b> sur l'ID de la liste DS. Si cette option n'est pas cochée, la variable <b>Target</b> ne sera définie que sur une valeur inférieure à 0 lorsqu'aucune collision n'est détectée, ou sur la valeur d'identification unique de l'<i>une</i> des instances de la collision.
    (notez que si plusieurs instances sont en collision, vous n'avez aucun moyen de savoir quel ID d'instance sera renvoyé si vous n'utilisez pas de liste).</p>
  <p>Si vous avez choisi de renvoyer une liste - et que la variable cible <i>n'</i> est <i>pas</i> définie sur <b>Temp</b> - vous pouvez également sélectionner l'option <b>Free Target</b>. Lorsqu'elle est définie sur <span class="inline">true</span>, la liste contenue dans la variable cible sera détruite et une nouvelle liste sera créée (et renvoyée à la variable cible) chaque fois que vous appelez l'action.
    une nouvelle liste sera créée (et renvoyée à la variable cible) chaque fois que vous appelez l'action. De cette façon, vous pouvez réutiliser la même variable sans vous soucier des fuites de mémoire, car si vous <i>ne</i> cochez <i>pas</i> l'option <b>Free Target</b>, vous devenez responsable de la destruction de la liste avant d'utiliser la variable.
    de détruire la liste avant de réutiliser la variable dans l'action. Notez qu'<i>indépendamment du</i> fait que cette option soit cochée ou non, si vous avez défini l'action sur <b>Retourner une liste</b>, la variable cible <i>contiendra toujours un ID de liste</i>,
    et en tant que telle, elle devra être libérée lorsque l'instance est détruite ou que la room se termine (vous pouvez utiliser l'événement <a href="../../../The_Asset_Editors/Object_Properties/Object_Events.htm">Clean Up</a> pour cela, par exemple, ainsi que l'action <a href="../Data_Structures/Free_Data_Structure.htm">Free Data Structure</a><span> </span>).
    Il est intéressant de noter que vous pouvez définir l'option <b>Free Target</b> pour utiliser une variable prédéfinie ou une expression et ainsi contrôler le moment où la structure de données de la liste est libérée en définissant la variable ailleurs (ou en ayant différents résultats pour l'expression)
    tant qu'elle est évaluée à <span class="inline">true</span>/<span class="inline">false</span>.</p>
  <p>Enfin, vous fournissez la variable <b>cible</b> qui doit contenir la valeur retournée ou l'ID de la liste. Si vous marquez la variable cible devant contenir la valeur renvoyée comme étant une variable <b>temporaire</b> (locale), l'action créera cette variable pour contenir la valeur renvoyée uniquement jusqu'à la fin de l'événement.
    Dans ce cas, l'option Free Target <i>ne</i> fait rien et vous serez responsable de la destruction de la liste DS si cette option a été cochée. Si aucune variable cible n'est fournie et que l'option <b>Liste de retour</b> est cochée, aucune liste ne sera créée.</p>
  <p class="note"><b>IMPORTANT !</b> Les collisions ne seront enregistrées que pour les instances qui ont un masque de collision valide, c'est-à-dire qu'elles ont un <span class="notranslate">sprite</span> assigné au <span class="inline">sprite_index</span> ou un <span class="notranslate">sprite</span> assigné au <span class="inline">mask_index</span>. Si les instances de l'objet contrôlé par cette action n'ont pas de masque de collision, la collision ne sera pas détectée, quel que soit le dessin de l'instance à ce moment-là.
    vérifiées dans cette action n'ont pas de masque de collision, la collision ne sera pas détectée, quel que soit le dessin de l'instance à ce moment-là.</p>
  <p>Notez que pour ajouter des actions dans un bloc &quot;<span class="inline">if</span>&quot;, elles doivent être déposées sur le <i>côté</i> de l'action, comme le montre l'image ci-dessous :</p>
  <p><img alt="If Collision Point Icon" class="icon" src="../../../assets/Images/Scripting_Reference/Drag_And_Drop/Reference/Collisions/i_Collision_Point.png" /></p>
  <p> </p>
  <h4>Syntaxe de l'action :</h4>
  <p><img alt="If Collision Point drop actions" class="center" src="../../../assets/Images/Scripting_Reference/Drag_And_Drop/Reference/Collisions/If_Collision_Point.png" /></p>
  <h4>Arguments :</h4>
  <table>
    <tbody>
      <tr>
        <th>Arguments</th>
        <th>Description</th>
      </tr>
      <tr>
        <td><span class="notranslate">Shape</span></td>
        <td>La forme à utiliser</td>
      </tr>
      <tr>
        <td><span class="notranslate">Object</span></td>
        <td>L'objet à vérifier pour les instances de</td>
      </tr>
      <tr>
        <td><span class="notranslate">x1</span></td>
        <td>La position x de départ</td>
      </tr>
      <tr>
        <td><span class="notranslate">y1</span></td>
        <td>La position y à partir de laquelle il faut commencer</td>
      </tr>
      <tr>
        <td><span class="notranslate">x2</span></td>
        <td>La position x à laquelle il faut terminer</td>
      </tr>
      <tr>
        <td><span class="notranslate">y2</span></td>
        <td>La position y à laquelle il faut terminer</td>
      </tr>
      <tr>
        <td><span class="notranslate">Free Target</span></td>
        <td>Peut être défini comme une variable ou une expression, ou défini comme <span class="inline">true</span>/<span class="inline">false</span> pour contrôler la libération de la mémoire de la liste lors de la réutilisation d'une variable de liste.</td>
      </tr>
      <tr>
        <td><span class="notranslate">Target</span></td>
        <td>La variable à cibler pour la valeur de retour de l'action</td>
      </tr>
    </tbody>
  </table>
  <p> </p>
  <h4>Exemple :</h4>
  <p><img>Le code du bloc d'action ci-dessus vérifie la présence d'une collision à la position x/y de la souris avec une instance de l'objet "obj_Enemy".
    de l'objet &quot;obj_Enemy&quot;. Si une (ou plusieurs) collision(s) est trouvée, un effet est créé et à la position de l'instance avec l'ID stocké dans la variable Target, puis l'instance est détruite. Si aucune collision n'est trouvée, un effet différent
    effet est créé à la position de la souris.</p>
  <p> </p>
  <p> </p>
  <p> </p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div style="float:left">Retour : <a href="Collision_Actions.htm">Actions de collision</a></div>
        <div style="float:right">Suivant : <a href="If_Any_Object_At_Place.htm">Si un objet quelconque se trouve à cet endroit</a></div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">Copyright <span class="notranslate">YoYo Games Ltd.</span> 2021 Tous droits réservés</span></h5>
  </div>
  <!-- KEYWORDS
Action - If Collision Point
-->
  <!-- TAGS
action_if_collision_point
-->
</body>
</html>